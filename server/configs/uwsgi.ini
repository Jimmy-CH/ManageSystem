[uwsgi]
# 监听内网 IP 和端口（使用 uWSGI 协议，非 HTTP！）
http            = 0.0.0.0:8000
# socket = :8000（或 socket = 0.0.0.0:8000）
# 风险：如果服务器有公网 IP 且防火墙未限制，互联网任何人都能连接！
# socket          = :8000

# 项目路径
home            = /opt/ManageSystem/server/venv
chdir           = /opt/ManageSystem/server/
wsgi-file       = /opt/ManageSystem/server/wsgi.py

# 日志
daemonize = /opt/ManageSystem/server/logs/uwsgi.log
# 仅记录错误，访问日志由 Nginx 或应用层处理
disable-logging = True

# 进程
master = True
workers = 3
threads = 9
enable-threads = True

# 内存与请求防护
reload-on-rss = 300
max-requests = 1000
max-requests-delta = 100

# 超时
harakiri = 300
http-timeout = 300
reload-mercy = 10

# 清理
vacuum = True
reaper = True
pidfile = /opt/ManageSystem/server/uwsgi.pid

# 安全
buffer-size = 65536
post-buffering = 8192
