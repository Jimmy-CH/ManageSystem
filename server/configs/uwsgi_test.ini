[uwsgi]
chdir           = /opt/ManageSystem/server/
module          = server.wsgi:application
home            = /opt/ManageSystem/server/venv

# 推荐仅本地访问（更安全）
http            = 127.0.0.1:8000

# http            = :8000

# 进程与线程
processes       = 4          # 测试环境可减少（节省资源）
threads         = 2
enable-threads  = true

# 主进程
master          = true
pidfile         = /opt/ManageSystem/server/uwsgi.pid

# 稳定性
vacuum          = true
die-on-term     = true
max-requests    = 1000       # 测试可降低，更快重启
max-requests-delta = 50

# 日志
logto           = /opt/ManageSystem/server/logs/uwsgi.log
log-maxsize     = 20971520   # 20MB（测试够用）

# 超时
harakiri        = 30
http-timeout    = 30

# 性能
buffer-size     = 65536
post-buffering  = 8192

# 安全（确保权限正确！）
uid             = www-data
gid             = www-data

# 限制上传
limit-post      = 10485760   # 10MB
